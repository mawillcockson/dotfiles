{{- $kanata_exe := (
    deepCopy . |
    merge (dict "exes" (list
            "kanata_windows_tty_winIOv2_x64.exe"
            "kanata_winIOv2.exe"
        )
    ) |
    includeTemplate "findExe" |
) -}}
{{- if not (
    $kanata_exe |
    and (not (stat (joinPath
        .chezmoi.destDir
        "AppData"
        "Roaming"
        "Microsoft"
        "Windows"
        "Start Menu"
        "Programs"
        "Startup"
        "kanata.lnk"
    ))) |
    and (.chezmoi.os | eq "windows")
) -}}
kanata.bat
{{ end }}
{{ if not (.chezmoi.os | eq "windows" | and (lookPath "autohotkey.exe")) }}
*.ahk
{{ end }}
