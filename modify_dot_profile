{{- /* chezmoi:modify-template */ -}}
{{- /* https://www.chezmoi.io/user-guide/manage-different-types-of-file/#manage-part-but-not-all-of-a-file */ -}}
{{- $guardComment := "# chezmoi-managed portion (9b34h)" -}}
{{- $managed := includeTemplate ".profile" . -}}
{{- $pattern := list (regexQuoteMeta $guardComment) ".*" (regexQuoteMeta $guardComment) | join "" -}}
{{- $chunk := list .chezmoi.stdin "\n" $guardComment $managed $guardComment | join "\n" -}}
{{- if .chezmoi.stdin | contains $guardComment -}}
{{- mustRegexReplaceAllLiteral $pattern .chezmoi.stdin $chunk -}}
{{- else -}}
{{- $chunk }}
{{- end -}}
